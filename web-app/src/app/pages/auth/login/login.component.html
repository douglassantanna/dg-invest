<div class="flex justify-center items-center h-[90%] bg-white dark:bg-gray-900">
  <div class="w-full max-w-md">
    <form (ngSubmit)="login()"
      class="sm:m-6 bg-white dark:bg-gray-800 p-8 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg"
      [formGroup]="loginForm">
      <h2 class="text-2xl font-bold text-center mb-6 text-gray-900 dark:text-gray-100">DG Invest</h2>
      <div class="mb-4">
        <label for="email" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Email</label>
        <input required formControlName="email" type="email" id="email" placeholder="Enter your email"
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 dark:focus:border-blue-300">
        @if (emailFormControl?.hasError('email') && !emailFormControl?.hasError('required')) {
        <div class="text-red-500 text-sm mt-2">
          Please enter a valid email address.
        </div>
        }
      </div>
      <div class="mb-4">
        <label for="password" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Password</label>
        <input required formControlName="password" type="password" id="password" placeholder="Enter your password"
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 dark:focus:border-blue-300">
        @if (passwordFormControl?.hasError('minlength')) {
        <div class="c">
          Minimum password length is 4 characters.
        </div>
        }
      </div>
      <div class="text-center">
        @if (errorMessages().length) {
        @for (error of errorMessages(); track $index) {
        <div
          class="flex items-center space-x-2 p-4 mb-4 text-sm rounded-lg bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-800">
          <svg class="w-5 h-5 text-red-500 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
              clip-rule="evenodd" />
          </svg>
          <span class="text-red-800 dark:text-red-200">{{error}}</span>
        </div>
        }
        }
        <button type="submit"
          class="w-full flex justify-center items-center py-2 px-4 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-700 focus:outline-none focus:bg-blue-700"
          [disabled]="loading() || loginForm.invalid" [ngStyle]="{'cursor': loading() ? 'not-allowed' : 'pointer'}">
          @if (!loading()) {
          Login
          @if (loading()) {
          <span class="ml-2 inline-block h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent">
          </span>
          }
          }
        </button>
      </div>
    </form>
  </div>
</div>